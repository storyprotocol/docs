---
title: Privyë¥¼ ì´ìš©í•œ ì´ë©”ì¼ ë¡œê·¸ì¸ ë° í›„ì› íŠ¸ëœì­ì…˜
description: Privy & Pimlicoë¥¼ ì‚¬ìš©í•˜ì—¬ ì´ë©”ì¼ ë¡œê·¸ì¸ê³¼ í›„ì› íŠ¸ëœì­ì…˜ì„ êµ¬í˜„í•˜ëŠ” ë°©ë²•ì„ ì•Œì•„ë³´ì„¸ìš”.
---

<Card title="Completed Code" href="https://github.com/jacob-tucker/story-privy-tutorial" icon="thumbs-up" color="#51af51">
  ì´ íŠœí† ë¦¬ì–¼ì˜ ì™„ì„±ëœ ì½”ë“œë¥¼ í™•ì¸í•˜ì„¸ìš”.
</Card>

ì´ íŠœí† ë¦¬ì–¼ì„ ì½ê³  ê³„ì‹ ë‹¤ë©´ ì•„ë§ˆë„ ë‹¤ìŒ ì¤‘ í•˜ë‚˜ ë˜ëŠ” ë‘˜ ë‹¤ë¥¼ í•˜ê³  ì‹¶ìœ¼ì‹¤ ê²ƒì…ë‹ˆë‹¤:

1. ì§€ê°‘ì´ ì—†ëŠ” ì‚¬ìš©ìê°€ ì´ë©”ì¼ë¡œ ì•±ì— ë¡œê·¸ì¸í•  ìˆ˜ ìˆë„ë¡ í•˜ê¸° ("ì„ë² ë””ë“œ ì§€ê°‘")
2. ì‚¬ìš©ìê°€ ê°€ìŠ¤ë¹„ë¥¼ ì§€ë¶ˆí•˜ì§€ ì•Šë„ë¡ íŠ¸ëœì­ì…˜ì„ í›„ì›í•˜ê¸° ("ìŠ¤ë§ˆíŠ¸ ì§€ê°‘")

PrivyëŠ” ì´ ë‘ ê°€ì§€ë¥¼ ë‹¤ìŒê³¼ ê°™ì´ ì„¤ëª…í•©ë‹ˆë‹¤:

> ì„ë² ë””ë“œ ì§€ê°‘ì€ ì• í”Œë¦¬ì¼€ì´ì…˜ì— ì§ì ‘ ë‚´ì¥ëœ ì§€ê°‘ ê²½í—˜ì„ ìœ„í•´ Privyê°€ ì œê³µí•˜ëŠ” ìì²´ ìˆ˜íƒ ì§€ê°‘ì…ë‹ˆë‹¤. ì„ë² ë””ë“œ ì§€ê°‘ì€ ë¸Œë¼ìš°ì € í™•ì¥ í”„ë¡œê·¸ë¨ì´ë‚˜ ëª¨ë°”ì¼ ì•±ê³¼ ê°™ì€ ë³„ë„ì˜ ì§€ê°‘ í´ë¼ì´ì–¸íŠ¸ê°€ í•„ìš”í•˜ì§€ ì•Šìœ¼ë©°, ì œí’ˆì—ì„œ ì§ì ‘ ì ‘ê·¼í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ëŠ” ì£¼ë¡œ ì™¸ë¶€ ì§€ê°‘ì´ ì—†ê±°ë‚˜ ì™¸ë¶€ ì§€ê°‘ì„ ì—°ê²°í•˜ê³  ì‹¶ì§€ ì•Šì€ ì•± ì‚¬ìš©ìë¥¼ ìœ„í•´ ì„¤ê³„ë˜ì—ˆìŠµë‹ˆë‹¤.
>
> ìŠ¤ë§ˆíŠ¸ ì§€ê°‘ì€ ê³„ì • ì¶”ìƒí™”ì˜ ê¸°ëŠ¥ì„ í†µí•©í•œ í”„ë¡œê·¸ë˜ë° ê°€ëŠ¥í•œ ì˜¨ì²´ì¸ ê³„ì •ì…ë‹ˆë‹¤. ëª‡ ì¤„ì˜ ì½”ë“œë§Œìœ¼ë¡œ ì‚¬ìš©ìë¥¼ ìœ„í•œ ìŠ¤ë§ˆíŠ¸ ì§€ê°‘ì„ ë§Œë“¤ì–´ ê°€ìŠ¤ ê²°ì œë¥¼ í›„ì›í•˜ê³ , ì¼ê´„ íŠ¸ëœì­ì…˜ì„ ë³´ë‚´ëŠ” ë“±ì˜ ì‘ì—…ì„ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ìš°ë¦¬ëŠ” [Privy](https://www.privy.io/) + [Pimlico](https://www.pimlico.io/)ë¥¼ ì‚¬ìš©í•˜ì—¬ ë‘˜ ë‹¤ êµ¬í˜„í•  ê²ƒì…ë‹ˆë‹¤.

### âš ï¸ ì‚¬ì „ ìš”êµ¬ì‚¬í•­

íŠœí† ë¦¬ì–¼ì„ ì‹œì‘í•˜ê¸° ì „ì— ì™„ë£Œí•´ì•¼ í•  ëª‡ ê°€ì§€ ë‹¨ê³„ê°€ ìˆìŠµë‹ˆë‹¤.

1. ìƒˆ í”„ë¡œì íŠ¸ë¥¼ [Privyì˜ ëŒ€ì‹œë³´ë“œ](https://dashboard.privy.io)
2. ì—ì„œ **"App ID"**&#xB97C; **"App settings > API keys"**&#xC5D0;ì„œ ë³µì‚¬í•˜ì„¸ìš”. ë¡œì»¬ í”„ë¡œì íŠ¸ì—ì„œ `.env` íŒŒì¼ì„ ë§Œë“¤ê³  App IDë¥¼ ì¶”ê°€í•˜ì„¸ìš”:

```Text .env
NEXT_PUBLIC_PRIVY_APP_ID=
```

3. í”„ë¡œì íŠ¸ ëŒ€ì‹œë³´ë“œì—ì„œ "**Wallet Configuration > Smart wallets**" ì•„ë˜ì—ì„œ Smart Walletsë¥¼ í™œì„±í™”í•˜ê³  "**Kernel (ZeroDev)**"ë¥¼ ì•„ë˜ì™€ ê°™ì´ ì„ íƒí•˜ì„¸ìš”:

<Frame>
  <img src="/images/tutorials/privy-tutorial-1.png" alt="Privy Dashboard" />
</Frame>

4. Smart walletsë¥¼ í™œì„±í™”í•˜ë©´, ë°”ë¡œ ì•„ë˜ì— ë‹¤ìŒ ê°’ë“¤ë¡œ "Custom chain"ì„ ì„¤ì •í•˜ì„¸ìš”:
   1. Name: `Story Aeneid Testnet`
   2. ID ë²ˆí˜¸: `1315`
   3. RPC URL: `https://aeneid.storyrpc.io`
   4. Bundler URLê³¼ Paymaster URLì€ [Pimlicoì˜ ëŒ€ì‹œë³´ë“œ](https://dashboard.pimlico.io)ë¡œ ê°€ì„œ ìƒˆ ì•±ì„ ë§Œë“œì„¸ìš”. ê·¸ëŸ° ë‹¤ìŒ "API Keys"ë¥¼ í´ë¦­í•˜ê³ , ìƒˆ API Keyë¥¼ ë§Œë“  í›„, ì•„ë˜ì™€ ê°™ì´ "RPC URLs"ë¥¼ í´ë¦­í•œ ë‹¤ìŒ ë„¤íŠ¸ì›Œí¬ë¡œ "Story Aeneid Testnet"ì„ ì„ íƒí•˜ì„¸ìš”:

<Warning>
  ì´ê²ƒì€ í…ŒìŠ¤íŠ¸ìš©ì…ë‹ˆë‹¤. ì‹¤ì œ ì‹œë‚˜ë¦¬ì˜¤ì—ì„œëŠ” ì•±ì„ ëŒ€ì‹ í•˜ì—¬ íŠ¸ëœì­ì…˜ì„ ìë™ìœ¼ë¡œ í›„ì›í•˜ê¸° ìœ„í•´ Pimlicoì—ì„œ ì ì ˆí•œ í›„ì› ì •ì±…ê³¼ ê²°ì œ ì •ë³´ë¥¼ ì„¤ì •í•´ì•¼ í•©ë‹ˆë‹¤. í…ŒìŠ¤íŠ¸ë„·ì—ì„œëŠ” ì´ ì‘ì—…ì„ í•  í•„ìš”ê°€ ì—†ìŠµë‹ˆë‹¤.
</Warning>

<Frame>
  <img src="/images/tutorials/pimlico-dashboard.png" alt="Pimlico Dashboard" />
</Frame>

5. ì˜ì¡´ì„±ì„ ì„¤ì¹˜í•˜ì„¸ìš”:

```Text Terminal
npm install @story-protocol/core-sdk permissionless viem @privy-io/react-auth
```

## 1. ì„ë² ë””ë“œ ì§€ê°‘ ì„¤ì •

<CardGroup cols={1}>
  <Card title="Official Privy Tutoral" href="https://docs.privy.io/guide/react/wallets/smart-wallets/usage#setup" icon="house">
    ì´ ë‹¨ê³„ë¥¼ ì½ëŠ” ëŒ€ì‹  Privyì˜ ê³µì‹ íŠœí† ë¦¬ì–¼ì„ ë”°ë¥´ì„¸ìš”.
  </Card>
</CardGroup>

<Note>
  Privyì˜ íŠœí† ë¦¬ì–¼ì„ ì½ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤
  [ì—¬ê¸°](https://docs.privy.io/guide/react/wallets/embedded/creation)ì—ì„œ ì„ë² ë””ë“œ ì§€ê°‘ ì„¤ì •ì— ëŒ€í•´ ì„¤ëª…í•˜ê³  ìˆìŠµë‹ˆë‹¤. ì´ëŠ” ì‚¬ìš©ìë¥¼ ìœ„í•œ ì´ë©”ì¼ ë¡œê·¸ì¸ì„ ë©‹ì§€ê²Œ í‘œí˜„í•œ ê²ƒì…ë‹ˆë‹¤. ì•„ë˜ ì˜ˆì œì—ì„œëŠ” ë‹¨ìˆœíˆ ëª¨ë“  ì‚¬ìš©ìë¥¼ ìœ„í•œ ì„ë² ë””ë“œ ì§€ê°‘ì„ ë§Œë“¤ì§€ë§Œ, ê·¸ë“¤ì˜ íŠœí† ë¦¬ì–¼ì„ ì½ê³  ë” ë§ì€ ì»¤ìŠ¤í„°ë§ˆì´ì§•ì„ ì›í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
</Note>

ì„ë² ë””ë“œ/ìŠ¤ë§ˆíŠ¸ ì§€ê°‘ì„ ì‚¬ìš©í•  ëª¨ë“  ì»´í¬ë„ŒíŠ¸ë¥¼ `PrivyProvider` ì™€ `SmartWalletsProvider`ë¡œ ê°ì‹¸ì•¼ í•©ë‹ˆë‹¤. `providers.tsx` (ë˜ëŠ” ì›í•˜ëŠ” ì´ë¦„) íŒŒì¼ì— ë‹¤ìŒ ì½”ë“œë¥¼ ì¶”ê°€í•˜ì„¸ìš”:

```jsx providers.tsx
"use client";

import { PrivyProvider } from "@privy-io/react-auth";
import { SmartWalletsProvider } from "@privy-io/react-auth/smart-wallets";
import { aeneid } from "@story-protocol/core-sdk";

export default function Providers({ children }: { children: React.ReactNode }) {
  return (
    <PrivyProvider
      appId={process.env.NEXT_PUBLIC_PRIVY_APP_ID as string}
      config={{
        // Customize Privy's appearance in your app
        appearance: {
          theme: "light",
          accentColor: "#676FFF",
          logo: "/story-logo.jpg",
        },
        // Create embedded wallets for users who don't have a wallet
        // when they sign in with email
        embeddedWallets: {
          createOnLogin: "all-users",
        },
        defaultChain: aeneid,
        supportedChains: [aeneid],
      }}
    >
      <SmartWalletsProvider>{children}</SmartWalletsProvider>
    </PrivyProvider>
  );
}
```

ê·¸ëŸ° ë‹¤ìŒ ê°„ë‹¨íˆ `layout.tsx`ì— ë‹¤ìŒê³¼ ê°™ì´ ì¶”ê°€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:

```jsx layout.tsx
import Providers from "@/providers/providers";

/* other code here... */

export default function RootLayout({
  children,
}: Readonly<{
  children: React.ReactNode,
}>) {
  return (
    <html lang="en">
      <body
        className={`${geistSans.variable} ${geistMono.variable} antialiased`}
      >
        <Providers>{children}</Providers>
      </body>
    </html>
  );
}
```

## 2. ë¡œê·¸ì¸ & ë¡œê·¸ì•„ì›ƒ

ë‹¤ìŒê³¼ ê°™ì´ ì•±ì— ì´ë©”ì¼ ë¡œê·¸ì¸ì„ ì¶”ê°€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:

```jsx page.tsx
import { usePrivy } from "@privy-io/react-auth";

export default function Home() {
  const { login, logout, user } = usePrivy();

  useEffect(() => {
    if (user) {
      const smartWallet = user.linkedAccounts.find(
        (account) => account.type === "smart_wallet"
      );
      // Logs the smart wallet's address
      console.log(smartWallet.address);
      // Logs the smart wallet type (e.g. 'safe', 'kernel', 'light_account', 'biconomy', 'thirdweb', 'coinbase_smart_wallet')
      console.log(smartWallet.type);
    }
  }, [user]);

  return (
    <div>
      <button onClick={user ? logout : login}>
        {user ? "Logout" : "Login with Privy"}
      </button>
    </div>
  );
}
```

## 3. Privyë¡œ ë©”ì‹œì§€ ì„œëª…í•˜ê¸°

<CardGroup cols={1}>
  <Card title="Official Privy Tutoral" href="https://docs.privy.io/guide/react/wallets/smart-wallets/usage#signing-messages" icon="house">
    ì´ ë‹¨ê³„ë¥¼ ì½ëŠ” ëŒ€ì‹  Privyì˜ ê³µì‹ ë©”ì‹œì§€ ì„œëª… íŠœí† ë¦¬ì–¼ì„ ë”°ë¥´ì„¸ìš”.
  </Card>
</CardGroup>

ìƒì„±ëœ ìŠ¤ë§ˆíŠ¸ ì›”ë ›ì„ ì‚¬ìš©í•˜ì—¬ ë©”ì‹œì§€ì— ì„œëª…í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:

```jsx page.tsx
import { useSmartWallets } from "@privy-io/react-auth/smart-wallets";

export default function Home() {
  const { client: smartWalletClient } = useSmartWallets();

  /* previous code here */

  async function sign() {
    const uiOptions = {
      title: "Example Sign",
      description: "This is an example for a user to sign.",
      buttonText: "Sign",
    };
    const request = {
      message: "IP is cool",
    };
    const signature = await smartWalletClient?.signMessage(request, {
      uiOptions,
    });
  }

  return (
    <div>
      {/* previous code here */}
      <button onClick={sign}>Sign</button>
    </div>
  );
}
```

## 4. ì„ì˜ì˜ íŠ¸ëœì­ì…˜ ë³´ë‚´ê¸°

<CardGroup cols={1}>
  <Card title="Official Privy Tutoral" href="https://docs.privy.io/guide/react/wallets/smart-wallets/usage#sending-transactions" icon="house">
    ì´ ë‹¨ê³„ë¥¼ ì½ëŠ” ëŒ€ì‹  Privyì˜ ê³µì‹ íŠ¸ëœì­ì…˜ ì „ì†¡ íŠœí† ë¦¬ì–¼ì„ ë”°ë¥´ì„¸ìš”.
  </Card>
</CardGroup>

ë˜í•œ ìƒì„±ëœ ìŠ¤ë§ˆíŠ¸ ì›”ë ›ì„ ì‚¬ìš©í•˜ì—¬ ì‚¬ìš©ìë¥¼ ìœ„í•œ íŠ¸ëœì­ì…˜ì„ í›„ì›í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:

<CodeGroup>
  ```jsx page.tsx
  import { useSmartWallets } from "@privy-io/react-auth/smart-wallets";
  import { encodeFunctionData } from "viem";
  import { defaultNftContractAbi } from "./defaultNftContractAbi";

  export default function Home() {
    const { client: smartWalletClient } = useSmartWallets();

    /* previous code here */

    async function mintNFT() {
      const uiOptions = {
        title: "Mint NFT",
        description: "This is an example transaction that mints an NFT.",
        buttonText: "Mint",
      };

      const transactionRequest = {
        to: "0x937bef10ba6fb941ed84b8d249abc76031429a9a", // example nft contract
        data: encodeFunctionData({
          abi: defaultNftContractAbi, // abi from another file
          functionName: "mintNFT",
          args: ["0x6B86B39F03558A8a4E9252d73F2bDeBfBedf5b68", "test-uri"],
        }),
      } as const;

      const txHash = await smartWalletClient?.sendTransaction(
        transactionRequest,
        { uiOptions }
      );
      console.log(`View Tx: https://aeneid.storyscan.io/tx/${txHash}`);
    }

    return (
      <div>
        {/* previous code here */}
        <button onClick={mintNFT}>Mint NFT</button>
      </div>
    )
  }
  ```

  ```Text defaultNftContractAbi.ts
  export const defaultNftContractAbi = [
    {
      inputs: [],
      stateMutability: "nonpayable",
      type: "constructor",
    },
    {
      inputs: [
        {
          internalType: "address",
          name: "recipient",
          type: "address",
        },
        {
          internalType: "string",
          name: "tokenURI",
          type: "string",
        },
      ],
      name: "mintNFT",
      outputs: [
        {
          internalType: "uint256",
          name: "",
          type: "uint256",
        },
      ],
      stateMutability: "nonpayable",
      type: "function",
    },
    {
      inputs: [
        {
          internalType: "uint256",
          name: "tokenId",
          type: "uint256",
        },
      ],
      name: "tokenURI",
      outputs: [
        {
          internalType: "string",
          name: "",
          type: "string",
        },
      ],
      stateMutability: "view",
      type: "function",
    },
    {
      inputs: [
        {
          internalType: "uint256",
          name: "tokenId",
          type: "uint256",
        },
      ],
      name: "ownerOf",
      outputs: [
        {
          internalType: "address",
          name: "",
          type: "address",
        },
      ],
      stateMutability: "view",
      type: "function",
    },
    {
      inputs: [],
      name: "symbol",
      outputs: [
        {
          internalType: "string",
          name: "",
          type: "string",
        },
      ],
      stateMutability: "view",
      type: "function",
    },
    {
      inputs: [],
      name: "name",
      outputs: [
        {
          internalType: "string",
          name: "",
          type: "string",
        },
      ],
      stateMutability: "view",
      type: "function",
    },
    {
      inputs: [],
      name: "totalSupply",
      outputs: [
        {
          internalType: "uint256",
          name: "",
          type: "uint256",
        },
      ],
      stateMutability: "view",
      type: "function",
    },
  ];

  ```
</CodeGroup>

## 5. Story SDKì—ì„œ íŠ¸ëœì­ì…˜ ë³´ë‚´ê¸°

ë˜í•œ ìƒì„±ëœ ìŠ¤ë§ˆíŠ¸ ì›”ë ›ì„ ì‚¬ìš©í•˜ì—¬ ë‹¤ìŒì—ì„œ íŠ¸ëœì­ì…˜ì„ ë³´ë‚¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤ [ğŸ› ï¸ TypeScript SDK](/developers/typescript-sdk). ì¼ë¶€ í•¨ìˆ˜ì—ëŠ” `encodedTxData`ë¥¼ ë°˜í™˜í•˜ëŠ” ì˜µì…˜ì´ ìˆì–´ì„œ, ì´ë¥¼ Privyì˜ ìŠ¤ë§ˆíŠ¸ ì›”ë ›ì— ì „ë‹¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì–´ë–¤ í•¨ìˆ˜ê°€ ì´ë¥¼ ì§€ì›í•˜ëŠ”ì§€ëŠ” [SDK Reference](/sdk-reference)ì—ì„œ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```jsx page.tsx
import { useSmartWallets } from "@privy-io/react-auth/smart-wallets";
import {
  EncodedTxData,
  StoryClient,
  StoryConfig,
} from "@story-protocol/core-sdk";
import { http } from "viem";

export default function Home() {
  const { client: smartWalletClient } = useSmartWallets();

  /* previous code here */

  async function setupStoryClient() {
    const config: StoryConfig = {
      account: smartWalletClient!.account,
      transport: http("https://aeneid.storyrpc.io"),
      chainId: "aeneid",
    };
    const client = StoryClient.newClient(config);
    return client;
  }

  async function registerIp() {
    const storyClient = await setupStoryClient();

    const response = await storyClient.ipAsset.mintAndRegisterIp({
      spgNftContract: "0xc32A8a0FF3beDDDa58393d022aF433e78739FAbc", // public spg contract for testing
      txOptions: { encodedTxDataOnly: true },
    });

    const uiOptions = {
      title: "Register IP",
      description: "This is an example transaction that registers an IP.",
      buttonText: "Register",
    };

    const txHash = await smartWalletClient?.sendTransaction(
      response.encodedTxData as EncodedTxData,
      { uiOptions }
    );
    console.log(`View Tx: https://aeneid.storyscan.io/tx/${txHash}`);
  }

  return (
    <div>
      {/* previous code here */}
      <button onClick={registerIp}>Register IP</button>
    </div>
  );
}
```

## 6. ì™„ë£Œ!

<CardGroup cols={2}>
  <Card title="Completed Code" href="https://github.com/jacob-tucker/story-privy-tutorial" icon="thumbs-up" iconColor="#51af51">
    ì´ íŠœí† ë¦¬ì–¼ì˜ ì™„ì„±ëœ ì½”ë“œë¥¼ í™•ì¸í•˜ì„¸ìš”.
  </Card>

  <Card title="Learn More" href="/developers/tutorials" icon="book-open">
    ë¬¸ì„œì—ì„œ ë” ë§ì€ íŠœí† ë¦¬ì–¼ì„ ì‚´í´ë³´ì„¸ìš”
  </Card>
</CardGroup>
