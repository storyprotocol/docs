---
title: License Registry
description: Storyì—ì„œ ë¼ì´ì„ ìŠ¤ ê´€ë ¨ ìƒíƒœë¥¼ ê´€ë¦¬í•˜ëŠ” ë ˆì§€ìŠ¤íŠ¸ë¦¬ì— ëŒ€í•´ ì•Œì•„ë³´ì„¸ìš”.
---

<CardGroup cols={1}>
  <Card title="LicenseRegistry.sol" href="https://github.com/storyprotocol/protocol-core-v1/blob/main/contracts/registries/LicenseRegistry.sol" icon="scroll" color="#ccb092">
    ë¼ì´ì„ ìŠ¤ ë ˆì§€ìŠ¤íŠ¸ë¦¬ì˜ ìŠ¤ë§ˆíŠ¸ ì»¨íŠ¸ë™íŠ¸ë¥¼ í™•ì¸í•˜ì„¸ìš”.
  </Card>
</CardGroup>

ë¼ì´ì„ ìŠ¤ ë ˆì§€ìŠ¤íŠ¸ë¦¬ëŠ” í”„ë¡œí† ì½œ ë‚´ì˜ ëª¨ë“  ë¼ì´ì„ ìŠ¤ ê´€ë ¨ ìƒíƒœë¥¼ ì €ì¥í•©ë‹ˆë‹¤. ì—¬ê¸°ì—ëŠ” [Programmable IP License (PILğŸ’Š)](/concepts/programmable-ip-license/overview)ì™€ ê°™ì€ ìƒˆë¡œìš´ ë¼ì´ì„ ìŠ¤ í…œí”Œë¦¿ ë“±ë¡, ê°œë³„ [IP Assets](/concepts/ip-asset/overview)ì— ë¼ì´ì„ ìŠ¤ ì²¨ë¶€, íŒŒìƒì‘ ë“±ë¡ ë“±ê³¼ ê°™ì€ ê¸€ë¡œë²Œ ìƒíƒœ ê´€ë¦¬ê°€ í¬í•¨ë©ë‹ˆë‹¤:

```solidity LicenseRegistry.sol
/// @dev Storage of the LicenseRegistry
/// @param defaultLicenseTemplate The default license template address
/// @param defaultLicenseTermsId The default license terms ID
/// @param registeredLicenseTemplates Registered license templates
/// @param registeredRoyaltyPolicies Registered royalty policies
/// @param registeredCurrencyTokens Registered currency tokens
/// @param parentIps Mapping of parent IPs to derivative IPs
/// @param parentLicenseTerms Mapping of parent IPs to license terms used to link to derivative IPs
/// @param childIps Mapping of derivative IPs to parent IPs
/// @param attachedLicenseTerms Mapping of attached license terms to IP IDs
/// @param licenseTemplates Mapping of license templates to IP IDs
/// @param expireTimes Mapping of IP IDs to expire times
/// @param licensingConfigs Mapping of minting license configs to a licenseTerms of an IP
/// @dev Storage structure for the LicenseRegistry
/// @custom:storage-location erc7201:story-protocol.LicenseRegistry
struct LicenseRegistryStorage {
  address defaultLicenseTemplate;
  uint256 defaultLicenseTermsId;
  mapping(address licenseTemplate => bool isRegistered) registeredLicenseTemplates;
  mapping(address childIpId => EnumerableSet.AddressSet parentIpIds) parentIps;
  mapping(address childIpId => mapping(address parentIpId => uint256 licenseTermsId)) parentLicenseTerms;
  mapping(address parentIpId => EnumerableSet.AddressSet childIpIds) childIps;
  mapping(address ipId => EnumerableSet.UintSet licenseTermsIds) attachedLicenseTerms;
  mapping(address ipId => address licenseTemplate) licenseTemplates;
  mapping(bytes32 ipLicenseHash => Licensing.LicensingConfig licensingConfig) licensingConfigs;
}
```

### ì£¼ìš” í•¨ìˆ˜

```solidity LicenseRegistry.sol
function attachLicenseTermsToIp(address ipId, address licenseTemplate, uint256 licenseTermsId) external onlyLicensingModule
```

ì´ í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ë©´ IP Assetì— ë¼ì´ì„ ìŠ¤ ì¡°ê±´ì„ ì²¨ë¶€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```solidity LicenseRegistry.sol
function registerDerivativeIp(address childIpId, address[] calldata parentIpIds, address licenseTemplate, uint256[] calldata licenseTermsIds, bool isUsingLicenseToken) external onlyLicensingModule
```

ì´ í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ë©´ IP Assetì„ ë‹¤ë¥¸ IP Assetì˜ íŒŒìƒì‘ìœ¼ë¡œ ë“±ë¡í•  ìˆ˜ ìˆì–´, [ğŸ’¸ Royalty Module](/concepts/royalty-module/overview)ì—ì„œ ì²­êµ¬ ê°€ëŠ¥í•œ ë¡œì—´í‹° íë¦„ê³¼ ê°™ì€ ê¸°ëŠ¥ì„ í™œìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
